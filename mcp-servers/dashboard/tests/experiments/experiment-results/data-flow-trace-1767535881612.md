# Data Flow Experiment Report

**Generated:** 1/4/2026, 6:11:21 AM

## Data Flow Trace

### Step 1: File System → Parser

**Input:**
```json
{
  "type": "file_system",
  "path": "/Users/ctavolazzi/Code/active/_pyrite"
}
```

**Output:**
```json
{
  "type": "parse_result",
  "workEffortCount": 26,
  "error": null
}
```

**Data Sample:**
```json
[
  {
    "id": "WE-251221-0b46",
    "title": "Stage 2 Testing Infrastructure",
    "status": "completed",
    "ticketCount": 5
  },
  {
    "id": "WE-251221-2829",
    "title": "Update System User Documentation",
    "status": "completed",
    "ticketCount": 4
  }
]
```

---

### Step 2: Parser → Stats

**Input:**
```json
{
  "type": "work_efforts",
  "count": 26
}
```

**Output:**
```json
{
  "type": "repo_stats",
  "stats": {
    "total": 26,
    "byFormat": {
      "mcp": 26,
      "jd": 0
    },
    "byStatus": {
      "completed": 17,
      "active": 8,
      "in_progress": 1
    },
    "totalTickets": 207,
    "ticketsByStatus": {
      "completed": 108,
      "pending": 98,
      "in_progress": 1
    }
  }
}
```

---

### Step 3: Stats → Server State

**Input:**
```json
{
  "type": "work_efforts_and_stats",
  "workEffortCount": 26
}
```

**Output:**
```json
{
  "type": "server_state",
  "repoName": "_pyrite",
  "workEffortCount": 26,
  "stats": {
    "total": 26,
    "byFormat": {
      "mcp": 26,
      "jd": 0
    },
    "byStatus": {
      "completed": 17,
      "active": 8,
      "in_progress": 1
    },
    "totalTickets": 207,
    "ticketsByStatus": {
      "completed": 108,
      "pending": 98,
      "in_progress": 1
    }
  }
}
```

---

### Step 4: Server State → WebSocket Message

**Input:**
```json
{
  "type": "server_state",
  "workEffortCount": 26
}
```

**Output:**
```json
{
  "type": "websocket_message",
  "messageType": "init",
  "repoCount": 1,
  "serializedSize": 67139
}
```

---

### Step 5: WebSocket → Client State

**Input:**
```json
{
  "type": "websocket_message",
  "messageType": "init"
}
```

**Output:**
```json
{
  "type": "client_state",
  "repoName": "_pyrite",
  "workEffortCount": 26,
  "stats": {
    "total": 26,
    "byFormat": {
      "mcp": 26,
      "jd": 0
    },
    "byStatus": {
      "completed": 17,
      "active": 8,
      "in_progress": 1
    },
    "totalTickets": 207,
    "ticketsByStatus": {
      "completed": 108,
      "pending": 98,
      "in_progress": 1
    }
  }
}
```

---

### Step 6: Client State → Events

**Input:**
```json
{
  "type": "client_state",
  "workEffortCount": 26
}
```

**Output:**
```json
{
  "type": "events",
  "eventCount": 1,
  "eventTypes": [
    "system:connected"
  ]
}
```

---

### Step 7: Update Flow

**Input:**
```json
{
  "type": "update_message",
  "workEffortCount": 1
}
```

**Output:**
```json
{
  "type": "update_events",
  "eventCount": 0,
  "eventTypes": []
}
```

---

## Summary

- **Total Steps:** 7
- **Work Efforts Processed:** 26
- **Events Emitted:** 1
- **Event Types:** system:connected

